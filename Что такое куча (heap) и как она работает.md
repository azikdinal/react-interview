Куча (Heap) - это структура данных, которая представляет собой полное бинарное дерево (или почти полное дерево), где каждый узел имеет значение, называемое ключом. В куче выполняются два основных свойства:

1. Свойство упорядоченности: В мин-куче (min-heap) или макс-куче (max-heap) значение ключа в каждом узле должно быть меньше (или больше) значений его потомков. В мин-куче минимальное значение находится в корне, а в макс-куче - максимальное значение.

2. Свойство полноты: Все уровни дерева, кроме, возможно, последнего, должны быть полностью заполнены, и все узлы на последнем уровне должны быть заполнены слева направо.

Куча обычно реализуется в виде массива, где индексы элементов соответствуют их позициям в дереве. Для узла с индексом `i`, его левый потомок находится по индексу `2i + 1`, а правый потомок - по индексу `2i + 2`. Родитель узла с индексом `i` находится по индексу `(i - 1) / 2`.

Основные операции, которые можно выполнять с кучей, включают:

- Вставка: Для вставки нового элемента в кучу его значение помещается в конец массива, а затем элемент поднимается вверх до тех пор, пока свойство упорядоченности не будет восстановлено.

- Извлечение минимального (максимального) элемента: В мин-куче (макс-куче) минимальный (максимальный) элемент находится в корне дерева. При извлечении минимального (максимального) элемента он удаляется из кучи, а последний элемент в массиве заменяет его в корне. Затем элемент сравнивается с его потомками и опускается вниз, пока свойство упорядоченности не будет восстановлено.

- Получение минимального (максимального) элемента: Минимальный (максимальный) элемент всегда находится в корне кучи и может быть получен без удаления из кучи.

Куча часто используется для реализации приоритетных очередей и алгоритмов сортировки, таких как сортировка кучей (Heap Sort). Она позволяет эффективно обрабатывать наибольший (наименьший) элемент, а также выполнять операции вставки и удаления с логарифмической временной сложностью O(log n), где n - количество элементов в куче.