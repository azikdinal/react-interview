В Next.js разделение кода (code splitting) реализуется автоматически с помощью встроенной функциональности. При сборке проекта Next.js автоматически анализирует импорты компонентов и модулей и разделяет их на отдельные фрагменты (chunks), которые загружаются по требованию при переходе на соответствующие страницы.

Вот как это работает:

1. Компоненты страниц:
   Каждый компонент страницы (файл в папке `pages`) будет автоматически разделен на отдельный фрагмент кода. При первой загрузке страницы в браузер будет загружен только фрагмент кода, необходимый для этой страницы.

2. Динамический импорт:
   Вы также можете использовать динамический импорт для явного разделения кода на более мелкие фрагменты. Динамический импорт позволяет загружать модули или компоненты только тогда, когда они действительно нужны, а не при первоначальной загрузке страницы.

   Пример динамического импорта:

   ```jsx
   import dynamic from 'next/dynamic';

   const DynamicComponent = dynamic(() => import('../components/MyComponent'));

   function HomePage() {
     return (
       <div>
         <h1>Welcome to the HomePage</h1>
         <DynamicComponent />
       </div>
     );
   }

   export default HomePage;
   ```

   В этом примере компонент `MyComponent` будет загружен только при появлении на странице, а не при первоначальной загрузке страницы.

3. Динамическая загрузка данных:
   Вы можете также использовать динамическую загрузку данных с помощью функции `getStaticProps`, `getServerSideProps` или `useEffect` в компонентах страниц. При этом данные будут загружаться только при необходимости, а не при первоначальной загрузке страницы.

   Пример использования `getServerSideProps` с динамической загрузкой данных:

   ```jsx
   function HomePage({ data }) {
     return (
       <div>
         <h1>Welcome to the HomePage</h1>
         <p>{data}</p>
       </div>
     );
   }

   export async function getServerSideProps() {
     const res = await fetch('https://api.example.com/data');
     const data = await res.json();

     return {
       props: {
         data,
       },
     };
   }

   export default HomePage;
   ```

   В этом примере данные будут загружены только при каждом обращении к странице на стороне сервера.

Таким образом, в Next.js разделение кода осуществляется автоматически с помощью встроенной функциональности, что позволяет уменьшить объем загружаемого кода и повысить производительность вашего приложения. Вы также можете использовать динамический импорт и динамическую загрузку данных для более тонкой настройки разделения кода в зависимости от потребностей вашего проекта.