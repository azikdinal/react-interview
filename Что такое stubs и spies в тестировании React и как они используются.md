В тестировании React, stubs и spies являются инструментами, которые позволяют создавать заглушки для функций или компонентов и следить за их вызовами. Вот их определения и способы использования:

1. Stubs (заглушки): Заглушки - это фиктивные реализации функций, компонентов или модулей, которые заменяют реальные зависимости во время тестирования. Заглушки обеспечивают предопределенное поведение и возвращаемые значения, которые помогают создавать контролируемые сценарии тестирования.

Пример использования заглушек:
- Заглушка функции: Можно использовать заглушку для замены реальной функции, чтобы гарантировать, что она возвращает определенное значение или выполняет определенные действия.
- Заглушка компонента: Заглушка компонента может использоваться, чтобы предоставить фиктивную реализацию компонента, которая может имитировать определенное поведение или состояние.

2. Spies (шпионы): Шпионы - это инструменты, которые помогают отслеживать вызовы функций и проверять, как они были вызваны, с какими аргументами и сколько раз. Шпионы полезны для проверки правильности вызовов функций и взаимодействия компонентов во время тестирования.

Пример использования шпионов:
- Шпион функции: Можно создать шпиона для функции, чтобы отследить ее вызовы и проверить, что она была вызвана с правильными аргументами.
- Шпион компонента: Шпион компонента может быть использован для отслеживания вызовов его методов, таких как componentDidMount() или componentDidUpdate(), и проверки, что они были вызваны в нужные моменты и с правильными аргументами.

Заглушки и шпионы обеспечивают контроль над тестируемым кодом, позволяют создавать сценарии тестирования с определенными условиями и проверять взаимодействие компонентов и функций. Они также помогают изолировать тестируемый код от его реальных зависимостей и упрощают создание надежных и предсказуемых тестовых случаев. В реакт-тестировании популярные инструменты, такие как Jest или Sinon, предоставляют функциональность для создания заглушек и шпионов, которые можно использовать в ваших тестах.